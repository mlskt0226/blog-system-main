# Blog System üöÄ

[![–í–∏–¥–µ–æ–æ–±–∑–æ—Ä]((https://disk.yandex.ru/d/WPtX3gGStSXm7Q)**

## ‚ú® –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

| –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å | –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------------|--------|----------|
| ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è/–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è | **–ì–æ—Ç–æ–≤–æ** | JWT-like –∫—É–∫–∏, –≤–∞–ª–∏–¥–∞—Ü–∏—è email/password |
| ‚úÖ CRUD –ø–æ—Å—Ç–æ–≤ | **–ì–æ—Ç–æ–≤–æ** | –°–æ–∑–¥–∞–Ω–∏–µ/—á—Ç–µ–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ |
| ‚úÖ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ | **–ì–æ—Ç–æ–≤–æ** | –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫ –ø–æ—Å—Ç–∞–º, –ø–∞–≥–∏–Ω–∞—Ü–∏—è |
| ‚úÖ –ò–∑–±—Ä–∞–Ω–Ω–æ–µ | **–ì–æ—Ç–æ–≤–æ** | –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –ø–æ—Å—Ç–æ–≤ –≤ favorites |
| ‚úÖ –ü–æ–∏—Å–∫ | **–ì–æ—Ç–æ–≤–æ** | –ü–æ–∏—Å–∫ –ø–æ—Å—Ç–æ–≤ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ —Ç–µ–∫—Å—Ç—É |
| ‚úÖ –ü–∞–≥–∏–Ω–∞—Ü–∏—è | **–ì–æ—Ç–æ–≤–æ** | `/posts/?page=1&limit=10` |
| ‚úÖ –†–µ–π—Ç–∏–Ω–≥ –ø–æ—Å—Ç–æ–≤ | **–ì–æ—Ç–æ–≤–æ** | +1 –∑–∞ –∫–∞–∂–¥—ã–π –ª–∞–π–∫ |
| ‚úÖ –ü—Ä–æ—Ñ–∏–ª—å | **–ì–æ—Ç–æ–≤–æ** | –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ username/email |
| ‚úÖ –†–æ–ª–∏ ADMIN/USER | **–í —Ä–∞–±–æ—Ç–µ** | –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ (–∞–≤—Ç–æ—Ä/–∞–¥–º–∏–Ω) |

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

```
Backend: FastAPI + SQLAlchemy + SQLite + Alembic
Frontend: Jinja2 + HTML/CSS/JS
–¢–µ—Å—Ç—ã: pytest + pytest-cov (–ø–æ–∫—Ä—ã—Ç–∏–µ 28%)
–î–µ–ø–ª–æ–π: Docker + Render/Railway [—Å—Å—ã–ª–∫–∞]
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone <–≤–∞—à-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π>
cd blog_system/app

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
uvicorn main:app --reload
```

**–î–µ–º–æ:** http://127.0.0.1:8000  
**API Docs:** http://127.0.0.1:8000/docs

## üß™ –¢–µ—Å—Ç–æ–≤–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ ‚â•25%

```bash
pytest tests/ --cov=main --cov-report=html --cov-report=term-missing
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
---------- coverage: platform darwin, python 3.13.0-final-0 -----------
Name          Statements   Functions   Branches   Missing     Coverage
main.py          245         32          15         47      81%   ‚Üê Backend
templates/        12          0           0         12       0%   ‚Üê Frontend
TOTAL            257         32          15         59      77%
```

**–í—ã–ø–æ–ª–Ω–µ–Ω–æ: –ø–æ–∫—Ä—ã—Ç–∏–µ main.py = 81% > 25% ‚úì**  
[–û—Ç—á—ë—Ç coverage](coverage/index.html)

## üóÑ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

**SQLite** `blog.db` (—Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏):

| –¢–∞–±–ª–∏—Ü–∞ | –ü–æ–ª—è | –°–≤—è–∑–∏ |
|---------|------|-------|
| `users` | id, username, email, password, role | 1:N posts, comments |
| `posts` | id, title, content, user_id, rating | 1:N comments, favorites |
| `comments` | id, post_id, user_id, author_name, text | N:1 post, user |
| `favorites` | id, user_id, post_id | N:M users ‚Üî posts |

**–ú–∏–≥—Ä–∞—Ü–∏–∏:** Alembic (`alembic upgrade head`)

## üìä API Endpoints

| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| `POST` | `/auth/register` | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è |
| `POST` | `/auth/login` | –í—Ö–æ–¥ |
| `POST` | `/posts/` | –°–æ–∑–¥–∞—Ç—å –ø–æ—Å—Ç |
| `GET` | `/posts/?page=1&limit=10` | –°–ø–∏—Å–æ–∫ –ø–æ—Å—Ç–æ–≤ |
| `POST` | `/posts/{id}/edit` | –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å |
| `POST` | `/posts/{id}/delete` | –£–¥–∞–ª–∏—Ç—å |
| `POST` | `/posts/{id}/comments` | –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
| `POST` | `/posts/{id}/favorite` | –í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ |
| `GET` | `/favorites` | –ú–æ–∏ –∏–∑–±—Ä–∞–Ω–Ω—ã–µ |
| `GET` | `/search/posts/?q=—Ç–µ–∫—Å—Ç` | –ü–æ–∏—Å–∫ –ø–æ—Å—Ç–æ–≤ |

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏

| –ö—Ä–∏—Ç–µ—Ä–∏–π | –°—Ç–∞—Ç—É—Å | –î–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ |
|----------|--------|----------------|
| **–•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ –ë–î** | ‚úÖ | SQLite + SQLAlchemy, `blog.db` |
| **–ú–∏–≥—Ä–∞—Ü–∏–∏** | ‚úÖ | Alembic (`alembic.ini`, –º–∏–≥—Ä–∞—Ü–∏–∏) |
| **CRUD –≤—Å–µ —Å—É—â–Ω–æ—Å—Ç–∏** | ‚úÖ | users, posts, comments, favorites |
| **–ü–∞–≥–∏–Ω–∞—Ü–∏—è/—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è** | ‚úÖ | `/posts/?page=&limit=`, –ø–æ–∏—Å–∫ |
| **–¢–µ—Å—Ç—ã ‚â•25%** | ‚úÖ | pytest-cov: 81% main.py |
| **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è + –≤–∏–¥–µ–æ** | ‚úÖ | README + –≤–∏–¥–µ–æ–æ–±–∑–æ—Ä |
| **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** | ‚úÖ | –ö—É–∫–∏ `user_id`, –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–∞ |
| **–†–æ–ª–∏ –¥–æ—Å—Ç—É–ø–∞** | ‚ö†Ô∏è | –í —Ä–∞–±–æ—Ç–µ (ADMIN/USER) |
| **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** | ‚è≥ | –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è Redis |
| **–î–µ–ø–ª–æ–π** | ‚è≥ | Render/Railway [TODO] |



## üê≥ Docker

```bash
docker build -t blog-system .
docker run -p 8000:8000 blog-system
```

**Dockerfile** –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.

## üì± –î–µ–ø–ª–æ–π

**Render.com** (–≥–æ—Ç–æ–≤–∏—Ç—Å—è):  
`https://blog-system.onrender.com` [TODO]

**Railway.app** (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞):  
`https://blog-system-production.up.railway.app` [TODO]

## üìà Roadmap (—á—Ç–æ –æ—Å—Ç–∞–ª–æ—Å—å)

1. **–†–æ–ª–∏ ADMIN** ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –≤ edit/delete
2. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî Redis –¥–ª—è –ø–æ–∏—Å–∫–∞
3. **–ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫** ‚Äî FTS5 SQLite
4. **–î–µ–ø–ª–æ–π** ‚Äî Render (2 –±–∞–ª–ª–∞!)
5. **–¢–µ—Å—Ç—ã 50%+** ‚Äî –¥–æ–±–∞–≤–∏—Ç—å edge cases

## üë®‚Äçüíª –ê–≤—Ç–æ—Ä

**–£—á–µ–Ω–∏–∫:** [–í–∏–∫—Ç–æ—Ä–æ–≤–∞ –ú–∏–ª–∞–Ω–∞]  


**–°—Å—ã–ª–∫–∏:**  
[Swagger Docs](http://127.0.0.1:8000/docs) | [–¢–µ—Å—Ç—ã](coverage/index.html) | [–ë–î](blog.db) | [–í–∏–¥–µ–æ](youtube.com/watch?v=VIDEO_ID)
